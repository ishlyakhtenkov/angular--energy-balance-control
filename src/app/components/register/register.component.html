<!-- Registration Form -->
<section>
  <div class="container py-md-5 py-3">
    <div class="row d-flex justify-content-center align-items-center">
      <div class="col-12 col-md-9">
        <div class="card card-registration card-registration-2" style="border-radius: 15px;">
          <form *ngIf="registerFormGroup" [formGroup]="registerFormGroup" (ngSubmit)="onRegister()">
            <div formGroupName="user" class="text-left">
              <div class="card-body p-0">
                <div class="row g-0">
                  <div class="col-lg-6 bg-gray">
                    <div class="p-md-5 p-3">
                      <h3 class="fw-normal mb-2" style="color: #4835d4;">General Infomation</h3>
                      <div class="form-outline form-white mb-2">
                        <label class="form-label" for="name">Name</label>
                        <input formControlName="name" type="text" class="form-control form-control">
                        <div *ngIf="name.invalid && (name.dirty || name.touched)" class="text-danger">
                          <div *ngIf="name.errors['required'] || name.errors['notOnlyWhitespace']">
                            Name is required
                          </div>
                          <div *ngIf="name.errors['minlength']">
                            Name must be at least 4 characters long
                          </div>
                          <div *ngIf="name.errors['maxlength']">
                            Name must be no more than 70 characters long
                          </div>
                        </div>
                      </div>
                      <div class="form-outline form-white mb-2">
                        <label class="form-label" for="email">Email</label>
                        <input formControlName="email" type="email" class="form-control form-control">
                        <div *ngIf="email.invalid && (email.dirty || email.touched)" class="text-danger">
                          <div *ngIf="email.errors['required']">
                            Email is required
                          </div>
                          <div *ngIf="email.errors['maxlength']">
                            Email must be no more than 50 characters long
                          </div>
                          <div *ngIf="email.errors['pattern']">
                            Must be email
                          </div>
                        </div>
                      </div>
                      <div class="form-outline form-white mb-2">
                        <label class="form-label" for="password">Password</label>
                        <input formControlName="password" type="password" class="form-control form-control">
                        <div *ngIf="password.invalid && (password.dirty || password.touched)" class="text-danger">
                          <div *ngIf="password.errors['required'] || password.errors['notOnlyWhitespace']">
                            Password is required
                          </div>
                          <div *ngIf="password.errors['minlength']">
                            Password must be at least 5 characters long
                          </div>
                          <div *ngIf="password.errors['maxlength']">
                            Password must be no more than 32 characters long
                          </div>
                        </div>
                      </div>
                      <div class="form-outline form-white mb-2">
                        <label class="form-label" for="confirmPassword">Confirm Password</label>
                        <input formControlName="confirmPassword" type="password" class="form-control form-control">
                        <div *ngIf="confirmPassword.invalid && (confirmPassword.dirty || confirmPassword.touched)" class="text-danger">
                          <div *ngIf="confirmPassword.errors['required'] || confirmPassword.errors['notOnlyWhitespace']">
                            Password confirmation required
                          </div>
                          <div *ngIf="confirmPassword.errors['notEquivalent']">
                            Passwords do not match
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="col-lg-6 bg-indigo text-white">
                    <div class="p-md-5 p-3">
                      <h3 class="fw-normal mb-2">Physiological Details</h3>
                      <div class="form-outline form-white mb-2">
                        <label class="form-label" for="age">Age</label>
                        <input formControlName="age" type="number" class="form-control form-control">
                        <div *ngIf="age.invalid && (age.dirty || age.touched)" class="text-danger">
                          <div *ngIf="age.errors['required']">
                            Age is required
                          </div>
                          <div *ngIf="age.errors['min']">
                            Age must be over 1 year old
                          </div>
                          <div *ngIf="age.errors['max']">
                            Age must be no more than 120 years old
                          </div>
                        </div>
                      </div>
                      <div class="form-outline form-white mb-2">
                        <label class="form-label" for="growth">Growth, cm</label>
                        <input formControlName="growth" type="number" class="form-control form-control">
                        <div *ngIf="growth.invalid && (growth.dirty || growth.touched)" class="text-danger">
                          <div *ngIf="growth.errors['required']">
                            Growth is required
                          </div>
                          <div *ngIf="growth.errors['min']">
                            Growth must be over 30 cm
                          </div>
                          <div *ngIf="growth.errors['max']">
                            Growth must be no more than 250 cm
                          </div>
                        </div>
                      </div>
                      <div class="form-outline form-white mb-2">
                        <label class="form-label" for="weight">Weight, kg</label>
                        <input formControlName="weight" type="number" class="form-control form-control">
                        <div *ngIf="weight.invalid && (weight.dirty || weight.touched)" class="text-danger">
                          <div *ngIf="weight.errors['required']">
                            Weight is required
                          </div>
                          <div *ngIf="weight.errors['min']">
                            Weight must be over 10 kg
                          </div>
                          <div *ngIf="weight.errors['max']">
                            Weight must be no more than 1000 kg
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6 mb-2">
                        <h6 class="mb-1 pb-1">Gender: </h6>
                        <div class="form-check form-check-inline">
                          <input type="radio" formControlName="sex" class="form-check-input" value="WOMAN" />
                          <label class="form-check-label">Female</label>
                        </div>
                        <div class="form-check form-check-inline">
                          <input type="radio" formControlName="sex" class="form-check-input" value="MAN" />
                          <label class="form-check-label">Male</label>
                        </div>
                        <div *ngIf="sex.invalid && (sex.dirty || sex.touched)" class="text-danger">
                          <div *ngIf="sex.errors['required']">
                            Gender is required
                          </div>
                        </div>
                      </div>
                      
                      <button type="submit" [disabled]="registerFormGroup.invalid" class="btn btn-light mt-2" data-mdb-ripple-color="dark">Register</button>
                      <p class="text-center text-white mt-2 mb-0">Have already an account? <a routerLink="/login" class="fw-bold text-dark"><u>Login here</u></a></p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>